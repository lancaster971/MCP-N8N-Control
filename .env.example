# =====================================================
# n8n Multi-Tenant MCP Server Configuration
# =====================================================

# n8n API Configuration (REQUIRED)
N8N_API_URL=http://localhost:5678/api/v1
N8N_API_KEY=your_n8n_api_key_here

# Optional: Webhook Authentication
# N8N_WEBHOOK_USERNAME=webhook_user
# N8N_WEBHOOK_PASSWORD=webhook_password

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=n8n_mcp
DB_USER=postgres
DB_PASSWORD=your_db_password

# API Server Configuration
API_PORT=3001
API_HOST=0.0.0.0
NODE_ENV=production

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# JWT Authentication
JWT_SECRET=your_secure_jwt_secret_at_least_32_chars_long
JWT_EXPIRES_IN=24h
SALT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Scheduler Configuration (minutes)
TENANT_SYNC_INTERVAL=5
SCHEMA_DISCOVERY_INTERVAL=60
HEALTH_CHECK_INTERVAL=15
CLEANUP_INTERVAL=1440  # 24 hours

# Performance Limits
MAX_CONCURRENT_TENANTS=5
MAX_WORKFLOWS_PER_TENANT=1000
MAX_EXECUTIONS_PER_TENANT=500

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# =====================================================
# Tenant Configuration (NEW in v2.11.0)
# =====================================================

# Mono/Multi-Tenant Mode Configuration
# Set to 'true' for multi-tenant mode, 'false' for mono-tenant
MULTI_TENANT_MODE=false

# Default Tenant ID
# In mono-tenant mode: ALL operations use this tenant
# In multi-tenant mode: fallback tenant for operations without explicit tenant
DEFAULT_TENANT_ID=client_simulation_a

# Webhook Security (for production deployment)
WEBHOOK_SECRET=pilotpro-webhook-2025-secure

# Debug Mode
DEBUG=false